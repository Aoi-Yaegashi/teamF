## ユーザー側
### 商品
 - 商品一覧閲覧
 - 商品検索
 - 商品カテゴリー

### カート
 - カートに商品を追加する
 - カートの商品を減らす
 - カートから商品を削除する
### 注文
 - 注文金額を計算
 - 注文を送る
 - 注文データを登録する
 - 在庫データを減らす
 - カート内の商品を読み取る
 - 在庫データを読み取る
 - 在庫が0ならエラーにする
 - 完了メールの送信
### 問い合わせ
 - 問い合わせを送る

## 管理者側
### 商品管理
 - 商品一覧閲覧
 - 商品検索
 - 商品登録
 - 商品削除
 - 商品情報編集
   - カテゴリ設定
   - セール価格設定
   - 在庫数更新
### 問い合わせ管理
 - 問い合わせの表示
 - ？
### 配送料設定
 - 設定した配送料をDBに反映させる

## 1. Product クラス（商品）
| 種別   | 名称                 | 内容・説明          |
| ---- | ------------------ | -------------- |
| 属性   | `id`               | 商品ID（主キー）      |
|      | `name`             | 商品名            |
|      | `description`      | 商品説明文          |
|      | `price`            | 通常価格           |
|      | `sale_price`       | セール価格          |
|      | `image_url`        | 商品画像URL        |
|      | `stock_quantity`   | 在庫数            |
|      | `is_published`     | 公開／非公開フラグ      |
|      | `category_id`      | 紐づくカテゴリのID     |
| 振る舞い | `isInStock()`      | 在庫があるかどうかを判定する |
|      | `reduceStock(q)`   | 指定数量だけ在庫を減らす   |
|      | `increaseStock(q)` | 指定数量だけ在庫を増やす   |

## 2. Category クラス（商品カテゴリ）
| 種別 | 名称     | 内容・説明       |
| -- | ------ | ----------- |
| 属性 | `id`   | カテゴリID（主キー） |
|    | `name` | カテゴリ名       |
## 3. Cart クラス（カート）
| 種別 | 名称     | 内容・説明       |
| -- | ------ | ----------- |
| 属性 | `id`   | カテゴリID（主キー） |
|    | `name` | カテゴリ名       |
## 4. CartItem クラス（カート商品行）
| 種別   | 名称              | 内容・説明          |
| ---- | --------------- | -------------- |
| 属性   | `product_id`    | 商品ID           |
|      | `quantity`      | 数量             |
| 振る舞い | `getSubtotal()` | 小計（価格 × 数量）を返す |
## 5. Order クラス（注文）
| 種別   | 名称                 | 内容・説明                          |
| ---- | ------------------ | ------------------------------ |
| 属性   | `id`               | 注文ID（主キー）                      |
|      | `session_id`       | ゲストユーザー識別用                     |
|      | `last_name`        | 姓                              |
|      | `first_name`       | 名                              |
|      | `postal_code`      | 郵便番号                           |
|      | `address`          | 配送先住所                          |
|      | `phone_number`     | 電話番号                           |
|      | `email`            | メールアドレス                        |
|      | `payment_method`   | 支払方法（クレカ／代引など）                 |
|      | `ordered_at`       | 注文確定日時                         |
|      | `status`           | 注文状態（例：`Pending`, `Confirmed`） |
| 振る舞い | `confirm()`        | 注文を確定し、在庫減算や通知を行う              |
|      | `cancel()`         | 注文をキャンセルする（在庫復元など）             |
|      | `calculateTotal()` | 合計金額を計算する                      |
## 6. OrderItem クラス（注文商品行）
| 種別   | 名称              | 内容・説明          |
| ---- | --------------- | -------------- |
| 属性   | `id`            | 行ID（主キー）       |
|      | `order_id`      | 注文ID           |
|      | `product_id`    | 商品ID           |
|      | `quantity`      | 数量             |
|      | `unit_price`    | 単価（注文時点での価格）   |
| 振る舞い | `getSubtotal()` | 小計（数量 × 単価）を算出 |
##  7. AdminUser クラス（管理者）
| 種別   | 名称                       | 内容・説明                     |
| ---- | ------------------------ | ------------------------- |
| 属性   | `id`                     | 管理者ID（主キー）                |
|      | `username`               | ログイン用ユーザー名                |
|      | `password_hash`          | パスワードのハッシュ値               |
|      | `role`                   | 権限（例：admin/editor/viewer） |
|      | `last_login`             | 最終ログイン日時                  |
| 振る舞い | `authenticate(password)` | パスワード認証                   |
|      | `changePassword(newPw)`  | パスワード変更                   |
|      | `hasPermission(action)`  | 権限チェック                    |
## 8. ProductService クラス（商品管理サービス）
| 種別   | メソッド名                                  | 内容・説明       |
| ---- | -------------------------------------- | ----------- |
| 振る舞い | `listProducts()`                       | 商品一覧を取得     |
|      | `searchProducts(keyword)`              | 商品検索（キーワード） |
|      | `createProduct(data)`                  | 新規商品の登録     |
|      | `deleteProduct(product_id)`            | 商品の削除       |
|      | `updateProduct(product_id, data)`      | 商品情報の一括更新   |
|      | `setCategory(product_id, category_id)` | カテゴリを設定     |
|      | `setSalePrice(product_id, price)`      | セール価格の設定    |
|      | `updateStock(product_id, qty)`         | 在庫数の更新      |
##  9. Inquiry クラス（お問い合わせ）
| 種別   | 名称                 | 内容・説明               |
| ---- | ------------------ | ------------------- |
| 属性   | `id`               | お問い合わせID（主キー）       |
|      | `name`             | 名前                  |
|      | `email`            | メールアドレス             |
|      | `category`         | 問い合わせカテゴリ           |
|      | `message`          | 問い合わせ本文             |
|      | `submitted_at`     | 送信日時                |
|      | `status`           | ステータス（未対応／対応中／完了など） |
| 振る舞い | `markAsResolved()` | 解決済みにする             |
|      | `reopen()`         | 未解決状態に戻す            |
